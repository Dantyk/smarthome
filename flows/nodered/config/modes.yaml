version: 3

# Zoznam miestností
rooms:
  - spalna
  - detska
  - obyvacka
  - kuchyna
  - kupelna

# Skupiny miestností
groups:
  bedroom: [spalna, detska]
  living: [obyvacka, kuchyna]

# Teplotné limity
limits:
  default:
    min: 16.0
    max: 28.0
  by_room:
    kupelna:
      min: 20.0
      max: 25.0

# Teplotné režimy (schedules)
temperature_regimes:
  VIKEND:
    schedule:
      sat-sun:
        - at: "08:00"
          set:
            rooms:
              spalna: 21
              detska: 21
              obyvacka: 21
              kuchyna: 21
        - at: "23:00"
          set:
            rooms:
              spalna: 19
              detska: 19
              obyvacka: 19
              kuchyna: 19
  PRACOVNY:
    schedule:
      mon-fri:
        - at: "06:00"
          set:
            rooms:
              spalna: 21
              detska: 21
              obyvacka: 20
              kuchyna: 20
        - at: "08:00"
          set:
            rooms:
              spalna: 19
              detska: 19
              obyvacka: 20
              kuchyna: 20
        - at: "17:00"
          set:
            rooms:
              spalna: 20
              detska: 21
              obyvacka: 22
              kuchyna: 22
        - at: "23:00"
          set:
            rooms:
              spalna: 19
              detska: 19
              obyvacka: 19
              kuchyna: 19

# Módy (aktivačné pravidlá)
modes:
  vikend:
    priority: 40
    activation:
      dow: [sat, sun]
    room_regime:
      "*": VIKEND
  
  pracovny_den:
    priority: 30
    activation:
      dow: [mon, tue, wed, thu, fri]
    room_regime:
      "*": PRACOVNY
  
  navsteva:
    priority: 60
    activation:
      calendar_mode: navsteva
    room_regime:
      bedroom: VIKEND
      living: PRACOVNY

# Základné režimy pre izby (fallback ak žiadny mód neaktívny)
base_regime_by_room:
  spalna: PRACOVNY
  detska: PRACOVNY
  obyvacka: PRACOVNY
  kuchyna: PRACOVNY
  kupelna: PRACOVNY

# Weather correlation konfigurácia
weather:
  correlation:
    enabled: true
    default_pivot_temp_c: 12  # Referenčná vonkajšia teplota
    min_offset: -3.0          # Max zníženie cieľovej teploty
    max_offset: 2.0           # Max zvýšenie cieľovej teploty
    
    rooms:
      spalna:
        kT: -0.08             # Čím chladnejšie vonku, tým viac topiť (NEGATIVE!)
        kW: -0.03             # Čím silnejší vietor, tým viac topiť (NEGATIVE!)
        kD: 0.15              # Váha smeru vetra
        pivot_temp_c: 12
        dir_weights:          # Severné smery = chladnejšie = topiť viac (POSITIVE!)
          N: 0.8              # Sever = najvýraznejšia korekcia hore
          NE: 0.6
          E: 0.2
          SE: -0.1
          S: -0.5             # Juh = korekcia dole (menej topiť)
          SW: -0.3
          W: 0.0
          NW: 0.4
      
      detska:
        kT: -0.08
        kW: -0.025
        kD: 0.12
        pivot_temp_c: 12
        dir_weights:
          N: 0.7
          NE: 0.5
          E: 0.1
          SE: -0.2
          S: -0.6
          SW: -0.4
          W: -0.1
          NW: 0.3
      
      obyvacka:
        kT: -0.07
        kW: -0.02
        kD: 0.1
        pivot_temp_c: 12
        dir_weights:
          N: 0.6
          NE: 0.4
          E: 0.0
          SE: -0.2
          S: -0.4
          SW: -0.2
          W: 0.1
          NW: 0.3
      
      kuchyna:
        kT: -0.06
        kW: -0.02
        kD: 0.1
        pivot_temp_c: 12
        dir_weights:
          N: 0.5
          NE: 0.3
          E: 0.0
          SE: -0.1
          S: -0.3
          SW: -0.2
          W: 0.0
          NW: 0.2
      
      kupelna:
        kT: -0.05
        kW: -0.01
        kD: 0.05
        pivot_temp_c: 12
        dir_weights:
          N: 0.3
          NE: 0.2
          E: 0.0
          SE: 0.0
          S: -0.2
          SW: -0.1
          W: 0.0
          NW: 0.1

# Notifikácie (placeholder)
notifications:
  contacts:
    admin:
      email: admin@example.com
  channels:
    email:
      enabled: false
