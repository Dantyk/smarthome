version: 3

# Room list
rooms:
  - bedroom
  - kidroom1
  - living
  - kitchen
  - bathroom

# Room groups
groups:
  sleeping_area: [bedroom, kidroom1]
  common_area: [living, kitchen]

# Room capabilities (sensors and actuators availability)
room_capabilities:
  bedroom:
    temp_sensor: true
    humidity_sensor: true
    hvac_control: true
    temp_control: true
  kidroom1:
    temp_sensor: true
    humidity_sensor: true
    hvac_control: true
    temp_control: true
  living:
    temp_sensor: true
    humidity_sensor: false   # Vlhkosť nedostupná
    hvac_control: true
    temp_control: true
  kitchen:
    temp_sensor: true
    humidity_sensor: true
    hvac_control: true
    temp_control: true
  bathroom:
    temp_sensor: true
    humidity_sensor: true
    hvac_control: false      # Bez HVAC switch
    temp_control: false      # Bez možnosti nastaviť cieľ

# Temperature limits
limits:
  default:
    min: 16.0
    max: 28.0
  by_room:
    bathroom:
      min: 20.0
      max: 25.0

# Teplotné režimy (schedules)
temperature_regimes:
  WEEKEND:
    schedule:
      sat-sun:
        - at: "08:00"
          set:
            rooms:
              bedroom: 21
              kidroom1: 21
              living: 21
              kitchen: 21
        - at: "23:00"
          set:
            rooms:
              bedroom: 19
              kidroom1: 19
              living: 19
              kitchen: 19
  WORKDAY:
    schedule:
      mon-fri:
        - at: "06:00"
          set:
            rooms:
              bedroom: 21
              kidroom1: 21
              living: 20
              kitchen: 20
        - at: "08:00"
          set:
            rooms:
              bedroom: 19
              kidroom1: 19
              living: 20
              kitchen: 20
        - at: "17:00"
          set:
            rooms:
              bedroom: 20
              kidroom1: 21
              living: 22
              kitchen: 22
        - at: "23:00"
          set:
            rooms:
              bedroom: 19
              kidroom1: 19
              living: 19
              kitchen: 19

# Modes (activation rules)
modes:
  weekend:
    priority: 40
    activation:
      dow: [sat, sun]
    room_regime:
      "*": WEEKEND
  
  workday:
    priority: 30
    activation:
      dow: [mon, tue, wed, thu, fri]
    room_regime:
      "*": WORKDAY
  
  visitors:
    priority: 60
    activation:
      calendar_mode: navsteva
    room_regime:
      sleeping_area: WEEKEND
      common_area: WORKDAY

# Base regimes for rooms (fallback if no mode is active)
base_regime_by_room:
  bedroom: WORKDAY
  kidroom1: WORKDAY
  living: WORKDAY
  kitchen: WORKDAY
  bathroom: WORKDAY

# Weather correlation configuration
weather:
  correlation:
    enabled: true
    default_pivot_temp_c: 12  # Reference outdoor temperature
    min_offset: -3.0          # Max target temperature decrease
    max_offset: 2.0           # Max target temperature increase
    
    rooms:
      bedroom:
        kT: -0.08             # Colder outside = more heating (NEGATIVE!)
        kW: -0.03             # Stronger wind = more heating (NEGATIVE!)
        kD: 0.15              # Wind direction weight
        pivot_temp_c: 12
        dir_weights:          # Northern directions = colder = more heating (POSITIVE!)
          N: 0.8              # North = strongest upward correction
          NE: 0.6
          E: 0.2
          SE: -0.1
          S: -0.5             # South = downward correction (less heating)
          SW: -0.3
          W: 0.0
          NW: 0.4
      
      kidroom1:
        kT: -0.08
        kW: -0.025
        kD: 0.12
        pivot_temp_c: 12
        dir_weights:
          N: 0.7
          NE: 0.5
          E: 0.1
          SE: -0.2
          S: -0.6
          SW: -0.4
          W: -0.1
          NW: 0.3
      
      living:
        kT: -0.07
        kW: -0.02
        kD: 0.1
        pivot_temp_c: 12
        dir_weights:
          N: 0.6
          NE: 0.4
          E: 0.0
          SE: -0.2
          S: -0.4
          SW: -0.2
          W: 0.1
          NW: 0.3
      
      kitchen:
        kT: -0.06
        kW: -0.02
        kD: 0.1
        pivot_temp_c: 12
        dir_weights:
          N: 0.5
          NE: 0.3
          E: 0.0
          SE: -0.1
          S: -0.3
          SW: -0.2
          W: 0.0
          NW: 0.2
      
      bathroom:
        kT: -0.05
        kW: -0.01
        kD: 0.05
        pivot_temp_c: 12
        dir_weights:
          N: 0.3
          NE: 0.2
          E: 0.0
          SE: 0.0
          S: -0.2
          SW: -0.1
          W: 0.0
          NW: 0.1

# Notifikácie (placeholder)
notifications:
  contacts:
    admin:
      email: admin@example.com
  channels:
    email:
      enabled: false
